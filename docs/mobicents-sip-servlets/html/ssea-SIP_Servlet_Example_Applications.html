<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 4. SIP Servlet Example Applications</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="SIP Servlets Server User Guide"/><link rel="up" href="index.html" title="SIP Servlets Server User Guide"/><link rel="prev" href="sssicar-SIP_Servlets_Server-Application-Router.html" title="Chapter 3. Application Router"/><link rel="next" href="ch05.html" title="Chapter 5. Clustering and High Availability"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="sssicar-SIP_Servlets_Server-Application-Router.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch05.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ssea-SIP_Servlet_Example_Applications"/>Chapter 4. SIP Servlet Example Applications</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ssea-SIP_Servlet_Example_Applications.html#sfss-Services_for_SIP_Servlets">4.1. Operating the Example Applications</a></span></dt><dd><dl><dt><span class="section"><a href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Location_Service">4.1.1. The Location Service</a></span></dt><dt><span class="section"><a href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Diameter_Event-Changing_Service">4.1.2. The Diameter Event-Changing Service</a></span></dt><dt><span class="section"><a href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Call-Blocking_Service">4.1.3. The Call-Blocking Service</a></span></dt><dt><span class="section"><a href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Call-Forwarding_Service">4.1.4. The Call-Forwarding Service</a></span></dt><dt><span class="section"><a href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Call-Controller_Service">4.1.5. The Call-Controller Service</a></span></dt><dt><span class="section"><a href="ssea-SIP_Servlet_Example_Applications.html#mipbx-Media_IPBX">4.1.6. Media IPBX</a></span></dt></dl></dd></dl></div><p>The SIP Servlet server has a selection of examples which demonstrate particular capabilities of the server.  <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#tab-ssea-SIP_Servlet_Example_Applications" title="Table 4.1. Available Examples">Table 4.1, “Available Examples”</a> lists the available examples, their location, and a brief description about the functionality each example demonstrates.  The examples can also provide a useful starting point for developing SIP Applications, therefore it is encouraged to experiment and adapt the base examples.  Each example is available in both binary and source formats.</p><div class="table"><a id="tab-ssea-SIP_Servlet_Example_Applications"/><p class="title"><b>Table 4.1. Available Examples</b></p><div class="table-contents"><table summary="Available Examples" border="1"><colgroup><col align="left"/><col align="left"/></colgroup><thead><tr><th align="center">Example</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left">
            <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Call-Blocking_Service" title="4.1.3. The Call-Blocking Service">Section 4.1.3, “The Call-Blocking Service”</a>
          </td><td align="left">Demonstrates how to block calls by specifying that the INVITE SIP Extension checks the <code class="literal">From</code> address to see if it is specified in the block list. If the blocked SIP address matches, the Call Blocking application send a FORBIDDEN response.</td></tr><tr><td align="left">
            <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Call-Forwarding_Service" title="4.1.4. The Call-Forwarding Service">Section 4.1.4, “The Call-Forwarding Service”</a>
          </td><td align="left">Demonstrates how to forward calls by specifying that the INVITE SIP Extension checks the <code class="literal">To</code> address to see if it is specified in the forward list. If the SIP address matches, the application acts as a back-to-back user agent (B2BUA).</td></tr><tr><td align="left">
            <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Call-Controller_Service" title="4.1.5. The Call-Controller Service">Section 4.1.5, “The Call-Controller Service”</a>
          </td><td align="left">Call Blocking and Call Forwarding are merged to create a new service.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/speed_dial.html">Speed Dial</a>
          </td><td align="left">Demonstrates how to implement speed dialing for SIP addresses. The demonstration uses a static list of speed dial numbers. The numbers are translated into a complete address based on prior configuration. The SIP addresses are proxied without record-routing, or supervised mode.</td></tr><tr><td align="left">
            <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Location_Service" title="4.1.1. The Location Service">Section 4.1.1, “The Location Service”</a>
          </td><td align="left">Demonstrates a location service that performs a lookup based on the request URI, into a hard-coded list of addresses. The request is proxied to the set of destination addresses associated with that URI.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/speeddial_locationservice.html">Composed Speed Dial and Location</a>
          </td><td align="left">Speed Dial and Location are merged to create a new service. Speed Dial proxies the speed dial number to a SIP address, then Location Service proxies the call to the actual location of the call recipient.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/click2call.html">Click to Call</a>
          </td><td align="left">Demonstrates how SIP Servlets can be used along with HTTP servlets as a converged application to place calls from a web portal. The example is a modified version of the click to dial example from the Sailfin project, but has been reworked to comply with JSR 289.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/chatserver.html">Chat Server</a>
          </td><td align="left">Demonstrates <code class="literal">MESSAGE</code> SIP Extension support. This example is based on the chatroom server demonstration from the BEA dev2dev project, and has been modified to meet JSR 289 requirements.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/mss-jsr309-demo.html">Media JSR 309 Example</a>
          </td><td align="left">Demonstrates how the Sip Servlets Application Developers can leverage JSR-309 API which provides to application developers,  multimedia capabilities with a generic media server (MS) abstraction interface This example is only compatible with JBoss AS 5. The solution is know to work with Twinkle and linphone SIP soft-phones.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/shopping-demo-jsr309.html">Shopping</a>
          </td><td align="left">Demonstrates integration with Seam and Java Enterprise Edition (JEE), and JSR 309 Media integration with text to speech (TTS) and dual-tone multi-frequency (DTMF) tones. The demonstration builds on the Converged Demo example, and adds support for the SIP Servlets v1.1 specification.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/jslee-sips-interop-demo.html">JSLEE/SIP Servlets Interoperability</a>
          </td><td align="left">Demonstrates how the Mobicents platform components can work in concert with each other to provide a integrated solution. All major components of the platform are used in this example, which was created to demonstrate to JavaOne 2008 delegates a possible use case scenario for the platform.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/facebook-c2c.html">Facebook Click to Call</a>
          </td><td align="left">Demonstrates how SIP Servlets and HTTP Servlets can be used can be used to create a Facebook plug-in that allows user to call POTS phones through a SIP-PSTN gateway provider. This demonstration is only available from the source repository; no binary is available.</td></tr><tr><td align="left">
            <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Diameter_Event-Changing_Service" title="4.1.2. The Diameter Event-Changing Service">Section 4.1.2, “The Diameter Event-Changing Service”</a>
          </td><td align="left">Demonstrates how the Diameter Event Charging, and the Location service, can be used to perform fixed-rated charging of calls (event charging). When a call is initiated, a debit of ten euros is applied to the <code class="literal">A Party</code> account. If the call is rejected by the <code class="literal">B Party</code>, or <code class="literal">A Party</code> hangs up before <code class="literal">B Party</code> can answer the call, the ten euro charge is credited to the <code class="literal">A Party</code> account.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/mss-diameter_sh.html">Diameter Sh OpenIMS Integration</a>
          </td><td align="left">Demonstrates the integration between Mobicents and OpenIMS, using the Diameter Sh interface to receive profile updates and SIP.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/mss-diameter_rorf.html">Diameter Ro/Rf IIntegration</a>
          </td><td align="left">a Diameter Ro/Rf service that performs online call charging</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/conference-demo-jsr309.html">Conference</a>
          </td><td align="left">Demonstrates the capabilities of the Media Server, such as endpoint composition and conferencing, as well as proving that SIP Servlets are capable of working seamlessly with any third-party web framework, without repackaging or modifying the deployment descriptors. The demonstration uses Google's GWT Ajax framework with server-push updates to provide a desktop-like user interface experience and JSR 309 for Media Control. </td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/mss-ipbx.html">Media IPBX</a>
          </td><td align="left">Demonstrates how a SIP PBX solution can be deployed using the Mobicents platform. For more information, refer to <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#mipbx-Media_IPBX" title="4.1.6. Media IPBX">Section 4.1.6, “Media IPBX”</a>.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/mss-jruby-example.html">JRuby on Rails SIP Servlets</a>
          </td><td align="left">Demonstrates how JRuby on Rails can be used by the Mobicents platform to provide a multi-language application that can initiate phone calls to customers after they log a complaint through a web portal.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/mss-pure-jruby-telco.html">Pure JRuby on Rails Telco</a>
          </td><td align="left">Builds on the JRuby on Rails SIP Servlets demonstration, but adds the ability to call the application rather that initially interact through the web portal. The application has the ability to set up and tear down the call.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/alerting-app.html">Alerting Application</a>
          </td><td align="left">This application was developped so that the JBoss RHQ/Jopr Enterprise Management Solution would be able to notify system administrators when a monitoring alert is fired by Jopr/RHQ.</td></tr><tr><td align="left">
            <a class="ulink" href="http://www.mobicents.org/mss-presence-client-example.html">Alerting Application</a>
          </td><td align="left">A Call Blocking application interoperating with the Mobicents SIP Presence Service to fetch the blocked contacts through XCAP.</td></tr></tbody></table></div></div><br class="table-break"/><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sfss-Services_for_SIP_Servlets"/>4.1. Operating the Example Applications</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sfss-The_Location_Service"/>4.1.1. The Location Service</h3></div></div></div><p>The Mobicents Location Service contains a list of mappings of
    request URIs to destination addresses. When the Location Service receives
    a request, it performs a lookup on that mapping and proxies the request
    simultaneously to the destination address (or addresses) associated with
    that URI.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><a id="sfss-The_Location_Service_Mappings_Cannot_Currently_Be_Configured"/><h2>The Location Service Mappings Cannot Currently Be Configured</h2><p>The Location Service currently performs a lookup on a hard-coded
      list of addresses. This model is evolving toward the eventual use of a
      database.</p></div><p>Regardless of whether you are using the JBoss Application Server or
    the Tomcat Servlet Container as the Servlets Server, the application,
    container and Location Service perform the following steps:</p><div class="itemizedlist"><ul><li><p>A user—let us call her Alice—makes a call to
        <code class="literal">sip:receiver@sip-servlets.com</code>. The
        <code class="literal">INVITE</code> is received by the servlet container, which
        then starts the Location Service.</p></li><li><p>The Location Service, using non-SIP means, determines that the
        callee (i.e. the receiver) is registered at two locations, identified
        by the two SIP URIs, <code class="literal">sip:receiver@127.0.0.1:5090</code>
        and <code class="literal">sip:receiver@127.0.0.1:6090</code>.</p></li><li><p>The Location Service proxies to those two destinations in
        parallel, without record-routing, and without making use of supervised
        mode.</p></li><li><p>One of the destinations returns a <code class="literal">200 OK</code>
        status code; the second proxy is then canceled.</p></li><li><p>The <code class="literal">200 OK</code> is forwarded to Alice, and call
        setup is completed as usual.</p></li></ul></div><p>Here is the current list of hard-coded contacts and their location
    URIs:</p><div class="itemizedlist"><p class="title"><b>sip:receiver@sip-servlets.com</b></p><ul><li><p><code class="literal">sip:receiver@127.0.0.1:5090</code></p></li><li><p><code class="literal">sip:receiver@127.0.0.1:6090</code></p></li></ul></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sfss-binary-Location_Service--Installing_Configuring_and_Running"/>4.1.1.1. The Location Service: Installing, Configuring and Running</h4></div></div></div><p> </p><p class="formalpara"><a id="sfss-binary-Location_Service-Pre-Install_Requirements_and_Prerequisites"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Pre-Install Requirements and Prerequisites</h5><p class="formalpara">The following requirements must be met before installation can begin.</p><div class="variablelist"><a id="sfss-binary-Location_Service-Software_Prerequisites"/><p class="title"><b>Software Prerequisites</b></p><dl><dt><span class="term">Either an MSS for JBoss or an MSS for Tomcat Installation</span></dt><dd><p>The Location Service requires either an MSS for JBoss or an
            MSS for Tomcat binary installation.</p><p>You can find detailed instructions on installing MSS for
            JBoss here: <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Installing_Configuring_and_Running" title="2.1. SIP Servlet-Enabled JBoss Application Server: Installing, Configuring and Running">Section 2.1, “SIP Servlet-Enabled JBoss Application Server: Installing, Configuring and Running”</a>.</p><p>You can find detailed instructions on installing MSS for
            Tomcat here: <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-SIP_Servlets_Server_with_Tomcat-Installing_Configuring_and_Running" title="2.2. SIP Servlet-Enabled Tomcat Servlet Container: Installing, Configuring and Running">Section 2.2, “SIP Servlet-Enabled Tomcat Servlet Container: Installing, Configuring and Running”</a>.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Location_Service-Downloading"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Downloading</h5><p class="formalpara">The Location Service is comprised of two archive files, a Web
        Archive (WAR) and a Default Application Router (DAR) configuration
        file, which you need to add to your installed SIP Servlets Server. For
        more information about WAR files, refer to the <a class="ulink" href="http://www.jboss.org/file-access/default/members/jbossas/freezone/docs/Server_Configuration_Guide/beta422/html/index.html">JBoss Application Server Administration and Development Guide</a>. For
        more information about DAR files, refer to the <a class="ulink" href="http://jcp.org/en/jsr/detail?id=289">JSR 289 spec, Appendix C</a>.</p><p>Download the Location Service's WAR file from here: <a class="ulink" href="http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/location-service/1.4/location-service-1.4.war">http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/location-service/1.4/location-service-1.4.war</a>.</p><p>Download the Location Service's DAR file from here: <a class="ulink" href="http://www.mobicents.org/locationservice-dar.properties">http://www.mobicents.org/locationservice-dar.properties</a>.</p><p class="formalpara"><a id="sfss-binary-Location_Service-Installing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Installing</h5><p class="formalpara">Both the <code class="filename">location-service-1.4.war</code> WAR file
        and the <code class="filename">locationservice-dar.properties</code> DAR file
        that you downloaded should be placed into different directories in
        your SIP Servlet Server installation hierarchy. Which directory
        depends on whether you are using the Location Service with MSS for
        JBoss or with MSS for Tomcat:</p><div class="variablelist"><dl><dt><span class="term">MSS for JBoss</span></dt><dd><p>Place <code class="filename">location-service-1.4.war</code> into the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/deploy/</code>
            directory, and <code class="filename">locationservice-dar.properties</code>
            into the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/conf/dars/</code>
            directory.</p></dd><dt><span class="term">MSS for Tomcat</span></dt><dd><p>Place <code class="filename">location-service-1.4.war</code> into the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/webapps/</code>
            directory, and <code class="filename">locationservice-dar.properties</code>
            into the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/conf/dars/</code>
            directory.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Location_Service-Configuring"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Configuring</h5><p class="formalpara">The <code class="literal">darConfigurationFileLocation</code> attribute of
        the <code class="literal">Service</code> element must be set to the value
        <strong class="userinput"><code>conf/dars/locationservice-dar.properties</code></strong>. The
        instructions are given below by SIP Servlets Server type:</p><div class="variablelist"><dl><dt><span class="term">MSS for JBoss</span></dt><dd><p>Open the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/deploy/jboss-web.deployer/server.xml</code>
            configuration file and find the <code class="literal">Service</code>
            element. Add an attribute to it called
            <strong class="userinput"><code>darConfigurationFileLocation</code></strong>, and set it to
            <em class="replaceable"><code>conf/dars/locationservice-dar.properties</code></em>:</p><div class="example"><a id="sfss-Editing_SS_for_JBoss_server.xml_for_the_Location_Service"/><p class="title"><b>Example 4.1. Editing MSS for JBoss's server.xml for the Location Service</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;jboss.web&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/locationservice-dar.properties&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>Make sure that the configuration file only contains one
            <code class="literal">darConfigurationFileLocation</code> attribute: your
            new one.</p></dd><dt><span class="term">MSS for Tomcat</span></dt><dd><p>Open the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/conf/server.xml</code>
            configuration file and find the <code class="literal">Service</code>
            element. Add an attribute to it called
            <strong class="userinput"><code>darConfigurationFileLocation</code></strong>, and set it to
            <strong class="userinput"><code>conf/dars/locationservice-dar.properties</code></strong>:</p><div class="example"><a id="sfss-Editing_MSS_for_Tomcats_server.xml_for_the_Location_Service"/><p class="title"><b>Example 4.2. Editing MSS for Tomcat's server.xml for the Location Service</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Sip-Servlets&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/locationservice-dar.properties&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>Make sure that the configuration file only contains one
            <code class="literal">darConfigurationFileLocation</code> attribute: your
            new one.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Location_Service-Running"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Running</h5><p class="formalpara">Once the WAR and DAR files have been placed in the right
        directories, and the JBoss Application Server or Tomcat Servlet
        Container knows where to find them (which you specified in a
        <code class="filename">server.xml</code> file), then you should go ahead and
        run SIP Servlets Server.</p><p>To learn how to run the SIP Servlets-enabled JBoss Application
      Server, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Running" title="2.1.7. Running">Section 2.1.7, “Running”</a>.</p><p>To learn how to run the SIP Servlets-enabled Tomcat Container,
      refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-binary-SIP_Servlets_Server_with_Tomcat-Running" title="2.2.7. Running">Section 2.2.7, “Running”</a>.</p><p class="formalpara"><a id="sfss-binary-Location_Service-Testing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Testing</h5><p class="formalpara">The following procedure shows how to test the Location
        Service.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="d0e4134"/><p class="title"><b>Procedure 4.1. </b></p><ol class="1"><li><p>Start two SIP soft-phones. The first phone should be set up as
          <strong class="userinput"><code>sip:receiver@sip-servlets.com</code></strong> at IP address
          <strong class="userinput"><code>127.0.0.1</code></strong> on port
          <strong class="userinput"><code>5090</code></strong>. The second phone can be set up in any
          way you like. Note that the SIP phones do not have to be
          registered.</p></li><li><p>Using the second phone, make a call to
          <code class="literal">sip:receiver@sip-servlets.com</code>. If the Location
          Service has been set up correctly and is running, the first phone—as
          the receiver or callee—should now be ringing.</p></li></ol></div><p class="formalpara"><a id="sfss-binary-Location_Service-Stopping"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Stopping</h5><p class="formalpara">To learn how to stop the SIP Servlets-enabled JBoss Application
        Server, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Stopping" title="2.1.10. Stopping">Section 2.1.10, “Stopping”</a>.</p><p>To learn how to stop the SIP Servlets-enabled Tomcat Container,
      refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-binary-SIP_Servlets_Server_with_Tomcat-Stopping" title="2.2.8. Stopping">Section 2.2.8, “Stopping”</a>.</p><p class="formalpara"><a id="sfss-binary-Location_Service-Uninstalling"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Uninstalling</h5><p class="formalpara">Unless disk space is at a premium, there is usually no need to
        uninstall the Location Service. However, if you will not be using it
        again, you may want to unset or reset the
        <code class="literal">darConfigurationFileLocation</code> attribute of the
        <code class="literal">Service</code> element, which you set in the
        <code class="filename">server.xml</code> configuration file in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-binary-Location_Service-Configuring" title="Configuring">Configuring</a>.</p><p>You may also wish to delete the WAR and DAR files for the Location
      Service, which you installed in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-binary-Location_Service-Installing" title="Installing">Installing</a>.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sfss-The_Diameter_Event-Changing_Service"/>4.1.2. The Diameter Event-Changing Service</h3></div></div></div><p>The Diameter Event-Changing Service is based on the Location
    Service, which performs call-charging at a fixed rate. Upon the initiation
    of a call, a debit of €10.00 occurs. In the cases of a call being rejected
    or the caller disconnecting (hanging up) before an answer is received, the
    caller's account is refunded.</p><p>Note that an MSS for JBoss installation is required to run this
    example; it will not work with MSS for Tomcat.</p><p>Provided here is a step-by-step description of the procedure as
    performed by the application and container:</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="sfss-Diameter_Event-Changing_Service_Step-By-Step"/><p class="title"><b>Procedure 4.2. Diameter Event-Changing Service Step-By-Step</b></p><ol class="1"><li><p>A user, Alice, makes a call to
        <code class="literal">sip:receiver@sip-servlets.com</code>. The
        <code class="literal">INVITE</code> is received by the servlet container, which
        sends a request to debit Alice's account to the Charging Server. The
        servlet container then invokes the location service.</p></li><li><p>the Location Service determines, without using the SIP protocol
        itself, where the callee—or receiver—is registered. The callee may be
        registered at two locations identified by two SIP URIs:
        <code class="literal">sip:receiver@127.0.0.1:5090</code> and
        <code class="literal">sip:receiver@127.0.0.1:6090</code>.</p></li><li><p>The Location Service proxies to those two destinations
        simultaneously, without record-routing and without using supervised
        mode.</p></li><li><p>One of the destinations returns <code class="literal">200 (OK)</code>, and
        so the container cancels the other.</p></li><li><p>The <code class="literal">200 (OK)</code> is forwarded upstream to Alice
        and the call setup is carried out as usual.</p></li><li><p>If neither or none of the registered destinations accepts the
        call, a Diameter Accounting-Request for refund is sent to the Diameter
        Charging Server in order to debit the already-credited €10.00</p></li></ol></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sfss-binary-Diameter_Event-Changing_Service--Installing_Configuring_and_Running"/>4.1.2.1. Diameter Event-Changing Service: Installing, Configuring and Running</h4></div></div></div><p>Preparing your MSS for JBoss server to run the Diameter
      Event-Changing example requires downloading a WAR archive, a DAR
      archive, the Ericsson Charging Emulator, setting an attribute in JBoss's
      <code class="filename">server.xml</code> configuration file, and then running
      JBoss AS. Detailed instructions follow.</p><p class="formalpara"><a id="sfss-binary-Diameter_Event-Changing_Service-Pre-Install_Requirements_and_Prerequisites"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Pre-Install Requirements and Prerequisites</h5><p class="formalpara">The following requirements must be met before installation can begin.</p><div class="variablelist"><a id="sfss-binary-Diameter_Event-Changing_Service-Software_Prerequisites"/><p class="title"><b>Software Prerequisites</b></p><dl><dt><span class="term">One MSS for JBoss Installation</span></dt><dd><p>Before proceeding, you should follow the instructions for
            installing, configuring, running and testing MSS for JBoss from
            the binary distribution.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Diameter_Event-Changing_Service-Downloading"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Downloading</h5><p class="formalpara">The following procedure describes how to download the required files.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><ol class="1"><li><p>First, download the Web Application Archive
          (<acronym class="acronym">WAR</acronym>) file corresponding to this example, the
          current version of which is named
          <code class="filename">diameter-event-charging-1.0.war</code>, from <a class="ulink" href="http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/diameter-event-charging/1.0/">http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/diameter-event-charging/1.0/</a>.</p></li><li><p>Secondly, download the corresponding Disk Archive
          (<acronym class="acronym">DAR</acronym>) configuration file here:
           <a class="ulink" href="http://www.mobicents.org/diametereventcharging-dar.properties">http://www.mobicents.org/diametereventcharging-dar.properties</a>.</p></li><li><p>Finally, you will need to download the Ericsson Charging
          Emulator, version 1.0, from <a class="ulink" href="http://www.ericsson.com/mobilityworld/developerszonedown/downloads/tools/charging_solutions/ChargingSDK-1_0_D31E.zip">http://www.ericsson.com/mobilityworld/developerszonedown/downloads/tools/charging_solutions/ChargingSDK-1_0_D31E.zip</a>.</p></li></ol></div><p class="formalpara"><a id="sfss-binary-Diameter_Event-Changing_Service-Installing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Installing</h5><p class="formalpara">The following procedure describes how to install the downloaded files.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><ol class="1"><li><p>Place the <code class="filename">diameter-event-charging-1.0.war</code>
          WAR archive into the
          <code class="filename">jboss_home/server/&lt;profile&gt;/deploy</code>
          directory, where <code class="filename">&lt;deploy&gt;</code> is your
          Configuration Profile, whether "default" or
          "all" (the latter if you are using MSS for JBoss's
          clustering capabilities).</p></li><li><p>Place the
          <code class="filename">diametereventcharging-dar.properties</code> DAR file
          in your
          <code class="filename"><code class="envar">$JBOSS_HOME</code>/server/&lt;profile&gt;/conf/dars</code>
          directory.</p></li><li><p>Finally, open the terminal, move into the directory to which
          you downloaded the Ericsson Charging SDK (for the sake of this
          example, we will call this directory
          <code class="filename">charging_sdk</code>), and then unzip the downloaded
          zip file (you can use Java's <code class="command">jar <code class="option">-xvf</code></code> command for this:</p><pre class="screen">~]$ cd charging_sdk
charging_sdk]$ jar -xvf ChargingSDK-1_0_D31E.zip</pre><p>Alternatively, you can use Linux's <code class="command">unzip</code>
          command to do the dirty work:</p><pre class="screen">charging_sdk]$ unzip ChargingSDK-1_0_D31E.zip</pre></li></ol></div><p class="formalpara"><a id="sfss-binary-Diameter_Event-Changing_Service-Configuring"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Configuring</h5><p class="formalpara">To configure the server for the Event-Changing example, simply
        open the <code class="filename">server.xml</code> configuration file in your
        server's
        <code class="filename"><code class="envar">$JBOSS_HOME</code>/server/&lt;profile&gt;/deploy/jboss-web.deployer/</code>
        directory, and edit the value of the
        <code class="literal">darConfigurationFileLocation</code> attribute of the
        <code class="literal">Service</code> element so that it is
        <code class="literal">conf/dars/mobicents-dar.properties</code>.</p><div class="example"><a id="sfss-Editing_the_darConfigurationFileLocation_Attribute_of_the_Service_Tag"/><p class="title"><b>Example 4.3. Editing the darConfigurationFileLocation Attribute of the Service Tag</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain">...</span><br />
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;jboss.web&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">sipApplicationRouterClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.router.DefaultApplicationRouter&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/mobicents-dar.properties&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">...</span><br />
</pre></div></div><br class="example-break"/><p class="formalpara"><a id="sfss-binary-Diameter_Event-Changing_Service-Running"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Running</h5><p class="formalpara">The following procedure describes how to run the Diameter Event-Changing Service.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="sfss-Diameter_Event-Changing_Service"/><p class="title"><b>Procedure 4.3. Diameter Event-Changing Service</b></p><ol class="1"><li><p>First, you should run your MSS for JBoss server. For
          instructions on doing so, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Running" title="2.1.7. Running">Section 2.1.7, “Running”</a>.</p></li><li><p>Then, run the Ericsson Charging Emulator. Open a terminal,
          change the working directory to the location of the unzipped
          Charging Emulator files (in
          <code class="filename">ChargingSDK-1_0_D31E</code> or a similarly-named
          directory), and run it with the <code class="command">java -jar <code class="filename">PPSDiamEmul.jar</code></code> command:</p><pre class="screen">~]$ java -jar PPSDiamEmul.jar</pre></li></ol></div><p class="formalpara"><a id="sfss-binary-Diameter_Event-Changing_Service-Using"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Using</h5><p class="formalpara">Using the Event-Changing service means, firstly, inserting some
        parameters into the Charging Emulator, and then, by using two SIP
        (soft)phones, calling one with the other. The following sequential
        instructions show you how.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><a id="sfss-SIP_SoftPhone_Which"/><h2>SIP (Soft)Phone? Which?</h2><p>The Mobicents team recommends one of the following SIP phones,
        and has found that they work well: the 3CX Phone, the SJ Phone or the
        WengoPhone.</p></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="sfss-Using_the_Diameter_Event-Changing_Service"/><p class="title"><b>Procedure 4.4. Using the Diameter Event-Changing Service</b></p><ol class="1"><li><p class="title"><b>Configure the Ericsson SDK Charging Emulator</b></p><p>Once you have started the Charging Emulator, you should
          configure it exactly as portrayed in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#figure-mss-ChargingEmulatorConfig" title="Figure 4.1. Configuring the Charging Emulator">Figure 4.1, “Configuring the Charging Emulator”</a>.</p><div class="figure"><a id="figure-mss-ChargingEmulatorConfig"/><div class="figure-contents"><div class="mediaobject" align="center"><a id="sfss-mss-DiameterEventChanging-ss-ChargingEmulatorConfig"/><img src="images/mss-DiameterEventChanging-ss-ChargingEmulatorConfig.png" align="middle" alt="Configuring the Charging Emulator"/><div class="caption"><p>Configuring the Charging Emulator</p></div></div></div><p class="title"><b>Figure 4.1. Configuring the Charging Emulator</b></p></div><br class="figure-break"/><div class="orderedlist"><ol><li><p>Set the <code class="literal">Peer Id</code> to:
              <strong class="userinput"><code>aaa://127.0.0.1:21812</code></strong></p></li><li><p>Set the <code class="literal">Realm</code> to:
              <strong class="userinput"><code>mobicents.org</code></strong></p></li><li><p>Set the <code class="literal">Host IP</code> to:
              <strong class="userinput"><code>127.0.0.1</code></strong></p></li></ol></div></li><li><p>Start two SIP (soft)phones. You should set the first phone up
          with the following parameters:
          <strong class="userinput"><code>sip:receiver@sip-servlets</code></strong> on IP address
          <strong class="userinput"><code>127.0.0.1</code></strong> on port
          <strong class="userinput"><code>5090</code></strong>. The other phone can be set up any way
          you like.</p></li><li><p>Before making a call, open the <span class="guimenu"><strong>Config</strong></span> → <span class="guimenuitem"><strong>Options</strong></span> dialog window, as shown in the image.</p><div class="mediaobject" align="center"><a id="sfss-mss-DiameterEventChanging-ss-ChargingAccountConfig"/><img src="images/mss-DiameterEventChanging-ss-ChargingAccountConfig.png" align="middle"/><div class="caption"><p>Configuring Accounts in the Charging
            Emulator</p></div></div><p>In the <span class="guilabel"><strong>Account Configuration</strong></span> window of
          the Charging Emulator, you can see the user's balances. Select a
          user to watch the balance. You can also stretch the window
          lengthwise to view the user's transaction history.</p></li><li><p>Time to call! From the second,
          “<span class="quote">any-configuration</span>” phone, make a call to
          <code class="literal">sip:receiver@sip-servlets.com</code>. Upon doing so, the
          other phone should ring or signal that it is being contacted
          .</p></li><li><p>You should be able to see a request—immediately following the
          invite and before the other party (i.e. you) accepts or rejects the
          call—sent to the Charging Emulator. That is when the debit of the
          user's account is made. In the case that the call is rejected, or
          the caller gives up, a second, new Diameter request is sent to
          refund the initial amount charged by the call. On the other hand, if
          the call is accepted, nothing else related to Diameter happens, and
          no second request takes place.</p><p>Please not that this is not the truly-correct way to do
          charging, as Diameter provides other means, such as unit
          reservation. However, for the purpose of a demonstration it is
          sufficient to show the debit and follow-up credit working. Also,
          this is a fixed-price call, regardless of the duration. Charging
          can, of course, be configured so that it is time-based.</p></li></ol></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sfss-The_Call-Blocking_Service"/>4.1.3. The Call-Blocking Service</h3></div></div></div><p>The Mobicents Call-Blocking Service, upon receiving an
    <code class="literal">INVITE</code> request, checks to see whether the sender's
    address is a blocked contact. If so, it returns a
    <code class="literal">FORBIDDEN</code> reply; otherwise, call setup proceeds as
    normal.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><a id="sfss-Blocked_Contacts_Cannot_Currently_Be_Configured"/><h2>Blocked Contacts Cannot Currently Be Configured</h2><p>Blocked contacts are currently hard-coded addresses. This model is
      evolving towards the eventual use of a database.</p></div><p>Here is the current hard-coded list of blocked contacts:</p><div class="itemizedlist"><ul><li><p><code class="literal">sip:blocked-sender@sip-servlets.com</code></p></li><li><p><code class="literal">sip:blocked-sender@127.0.0.1</code></p></li></ul></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sfss-binary-Call-Blocking_Service--Installing_Configuring_and_Running"/>4.1.3.1. The Call-Blocking Service: Installing, Configuring and Running</h4></div></div></div><p> </p><p class="formalpara"><a id="sfss-binary-Call-Blocking_Service-Pre-Install_Requirements_and_Prerequisites"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Pre-Install Requirements and Prerequisites</h5><p class="formalpara">The following requirements must be met before installation can begin.</p><div class="variablelist"><a id="sfss-binary-Call-Blocking_Service-Software_Prerequisites"/><p class="title"><b>Software Prerequisites</b></p><dl><dt><span class="term">Either an MSS for JBoss or an MSS for Tomcat Installation</span></dt><dd><p>The Call-Blocking Service requires either an MSS for JBoss
            or an MSS for Tomcat binary installation.</p><p>You can find detailed instructions on installing MSS for
            JBoss here: <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Installing_Configuring_and_Running" title="2.1. SIP Servlet-Enabled JBoss Application Server: Installing, Configuring and Running">Section 2.1, “SIP Servlet-Enabled JBoss Application Server: Installing, Configuring and Running”</a>.</p><p>You can find detailed instructions on installing MSS for
            Tomcat here: <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-SIP_Servlets_Server_with_Tomcat-Installing_Configuring_and_Running" title="2.2. SIP Servlet-Enabled Tomcat Servlet Container: Installing, Configuring and Running">Section 2.2, “SIP Servlet-Enabled Tomcat Servlet Container: Installing, Configuring and Running”</a>.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Blocking_Service-Downloading"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Downloading</h5><p class="formalpara">The Call-Blocking Service is comprised of two archive files, a
        Web Archive (WAR) and a Default Application Router (DAR) configuration
        file, which you need to add to your installed SIP Servlets Server. For
        more information about WAR files, refer to the <a class="ulink" href="http://www.jboss.org/file-access/default/members/jbossas/freezone/docs/Server_Configuration_Guide/beta422/html/index.html">JBoss Application Server Administration and Development Guide</a>. For
        more information about DAR files, refer to the <a class="ulink" href="http://jcp.org/en/jsr/detail?id=289">JSR 289 spec, Appendix C</a>.</p><p>Download the Call-Blocking Service's WAR file from here: <a class="ulink" href="http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/call-blocking/1.4/call-blocking-1.4.war">http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/call-blocking/1.4/call-blocking-1.4.war</a>.</p><p>Download the Call-Blocking Service's DAR file from here: <a class="ulink" href="http://www.mobicents.org/call-blocking-servlet-dar.properties">http://www.mobicents.org/call-blocking-servlet-dar.properties</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Blocking_Service-Installing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Installing</h5><p class="formalpara">Both the <code class="filename">call-blocking-1.4.war</code> WAR file and
        the <code class="filename">call-blocking-servlet-dar.properties</code> DAR file
        that you downloaded should be placed into different directories in
        your SIP Servlet Server installation hierarchy. Which directory depends
        on whether you are using the Call-Blocking Service with MSS for JBoss
        or with MSS for Tomcat:</p><div class="variablelist"><dl><dt><span class="term">MSS for JBoss</span></dt><dd><p>Place <code class="filename">call-blocking-1.4.war</code> into the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/deploy/</code>
            directory, and
            <code class="filename">call-blocking-servlet-dar.properties</code> into the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/conf/dars/</code>
            directory.</p></dd><dt><span class="term">MSS for Tomcat</span></dt><dd><p>Place
            <code class="filename">call-blocking-servlet-dar.properties</code> into the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/webapps/</code>
            directory, and
            <code class="filename">call-blocking-servlet-dar.properties</code> into the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/conf/dars/</code>
            directory.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Blocking_Service-Configuring"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Configuring</h5><p class="formalpara">The <code class="literal">darConfigurationFileLocation</code> attribute of
        the <code class="literal">Service</code> element must be set to the value
        <strong class="userinput"><code>conf/dars/call-blocking-servlet-dar.properties</code></strong>.
        The instructions for doing so are given below by SIP Servlets Server
        type:</p><div class="variablelist"><dl><dt><span class="term">MSS for JBoss</span></dt><dd><p>Open the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/deploy/jboss-web.deployer/server.xml</code>
            configuration file and find the <code class="literal">Service</code>
            element. Add an attribute to it called
            <strong class="userinput"><code>darConfigurationFileLocation</code></strong>, and set it to
            <em class="replaceable"><code>conf/dars/call-blocking-servlet-dar.properties</code></em>:</p><div class="example"><a id="sfss-Editing_SS_for_JBoss_server.xml_for_the_Call-Blocking_Service"/><p class="title"><b>Example 4.4. Editing MSS for JBoss's server.xml for the Call-Blocking Service</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;jboss.web&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/call-blocking-servlet-dar.properties&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>Make sure that the configuration file only contains one
            <code class="literal">darConfigurationFileLocation</code> attribute: your
            new one.</p></dd><dt><span class="term">MSS for Tomcat</span></dt><dd><p>Open the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/conf/server.xml</code>
            configuration file and find the <code class="literal">Service</code>
            element. Add an attribute to it called
            <strong class="userinput"><code>darConfigurationFileLocation</code></strong>, and set it to
            <strong class="userinput"><code>conf/dars/call-blocking-servlet-dar.properties</code></strong>:</p><div class="example"><a id="sfss-Editing_MSS_for_Tomcats_server.xml_for_the_Call-Blocking_Service"/><p class="title"><b>Example 4.5. Editing MSS for Tomcat's server.xml for the Call-Blocking Service</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Sip-Servlets&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/call-blocking-servlet-dar.properties&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>Make sure that the configuration file only contains one
            <code class="literal">darConfigurationFileLocation</code> attribute: your
            new one.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Blocking_Service-Running"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Running</h5><p class="formalpara">Once the WAR and DAR files have been placed in the right
        directories, and the JBoss Application Server or Tomcat Servlet
        Container knows where to find them (which you specified in a
        <code class="filename">server.xml</code> file), then you should go ahead and
        run SIP Servlets Server.</p><p>To learn how to run the SIP Servlets-enabled JBoss Application
      Server, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Running" title="2.1.7. Running">Section 2.1.7, “Running”</a>.</p><p>To learn how to run the SIP Servlets-enabled Tomcat Container,
      refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-binary-SIP_Servlets_Server_with_Tomcat-Running" title="2.2.7. Running">Section 2.2.7, “Running”</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Blocking_Service-Testing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Testing</h5><p class="formalpara">The following procedure shows how to test the Call-Blocking
        Service.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="d0e4727"/><p class="title"><b>Procedure 4.5. Testing the Call Blocking Service</b></p><ol class="1"><li><p>Start a SIP softphone of your choice. The account name should
          be <strong class="userinput"><code>blocked-sender</code></strong>. The <code class="literal">From Header</code> should list one of the following addresses:
          <strong class="userinput"><code>sip:blocked-sender@sip-servlets.com</code></strong> or
          <strong class="userinput"><code>sip:blocked-sender@127.0.0.1</code></strong>. The SIP
          softphone does not need to be registered.</p></li><li><p>Make a call to any address, and you should receive a
          <code class="literal">FORBIDDEN</code> response.</p></li></ol></div><p class="formalpara"><a id="sfss-binary-Call-Blocking_Service-Stopping"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Stopping</h5><p class="formalpara">To learn how to stop the SIP Servlets-enabled JBoss Application
        Server, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Stopping" title="2.1.10. Stopping">Section 2.1.10, “Stopping”</a>.</p><p>To learn how to stop the SIP Servlets-enabled Tomcat Container,
      refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-binary-SIP_Servlets_Server_with_Tomcat-Stopping" title="2.2.8. Stopping">Section 2.2.8, “Stopping”</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Blocking_Service-Uninstalling"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Uninstalling</h5><p class="formalpara">Unless disk space is at a premium, there is usually no need to
        uninstall the Call-Blocking Service. However, if you will not be using
        it again, you may want to unset or reset the
        <code class="literal">darConfigurationFileLocation</code> attribute of the
        <code class="literal">Service</code> element, which you set in the
        <code class="filename">server.xml</code> configuration file in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-binary-Call-Blocking_Service-Configuring" title="Configuring">Configuring</a>.</p><p>You may also wish to delete the WAR and DAR files for the
      Call-Blocking Service, which you installed in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-binary-Call-Blocking_Service-Installing" title="Installing">Installing</a>.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sfss-The_Call-Forwarding_Service"/>4.1.4. The Call-Forwarding Service</h3></div></div></div><p>The Mobicents Call-Forwarding Service, upon receiving an
    <code class="literal">INVITE</code> request, checks to see whether the sender's
    address is among those in a list of addresses which need to be forwarded.
    If so, then the Call-Forwarding Service acts as a Back-to-Back User Agent
    (B2BUA), and creates a new call leg to the destination. When the response
    is received from the new call leg, it sends it an acknowledgment
    (<code class="literal">ACK</code>) and then responds to the original caller. If, on
    the other hand, the server does not receive an <code class="literal">ACK</code>,
    then it tears down the new call leg with a <code class="literal">BYE</code>. Once
    the <code class="literal">BYE</code> is received, then it answers
    <code class="literal">OK</code> directly and sends the <code class="literal">BYE</code> to
    the new call leg.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><a id="sfss-Contacts_to_Forward_Cannot_Currently_Be_Configured"/><h2>Contacts to Forward Cannot Currently Be Configured</h2><p>Contacts to forward are currently hard-coded addresses. This model
      is evolving toward the eventual use of a database.</p></div><p>Here is the current hard-coded list of contacts to forward:</p><div class="itemizedlist"><ul><li><p><code class="literal">sip:receiver@sip-servlets.com</code></p></li><li><p><code class="literal">sip:receiver@127.0.0.1</code></p></li></ul></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sfss-binary-Call-Forwarding_Service--Installing_Configuring_and_Running"/>4.1.4.1. The Call-Forwarding Service: Installing, Configuring and Running</h4></div></div></div><p> </p><p class="formalpara"><a id="sfss-binary-Call-Forwarding_Service-Pre-Install_Requirements_and_Prerequisites"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Pre-Install Requirements and Prerequisites</h5><p class="formalpara">The following requirements must be met before installation can begin.</p><div class="variablelist"><a id="sfss-binary-Call-Forwarding_Service-Software_Prerequisites"/><p class="title"><b>Software Prerequisites</b></p><dl><dt><span class="term">Either an MSS for JBoss or an MSS for Tomcat Installation</span></dt><dd><p>The Call-Forwarding Service requires either an MSS for JBoss
            or an MSS for Tomcat binary installation.</p><p>You can find detailed instructions on installing MSS for
            JBoss here: <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Installing_Configuring_and_Running" title="2.1. SIP Servlet-Enabled JBoss Application Server: Installing, Configuring and Running">Section 2.1, “SIP Servlet-Enabled JBoss Application Server: Installing, Configuring and Running”</a>.</p><p>You can find detailed instructions on installing MSS for
            Tomcat here: <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-SIP_Servlets_Server_with_Tomcat-Installing_Configuring_and_Running" title="2.2. SIP Servlet-Enabled Tomcat Servlet Container: Installing, Configuring and Running">Section 2.2, “SIP Servlet-Enabled Tomcat Servlet Container: Installing, Configuring and Running”</a>.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Forwarding_Service-Downloading"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Downloading</h5><p class="formalpara">The Call-Forwarding Service is comprised of two archive files, a
        Web Archive (WAR) and a Data Archive (DAR), which you need to add to
        your installed SIP Servlets Server. For more information about WAR and
        DAR files, refer to the <a class="ulink" href="http://www.jboss.org/file-access/default/members/jbossas/freezone/docs/Server_Configuration_Guide/beta422/html/index.html">JBoss Application Server Administration and Development Guide</a>.</p><p>Download the Call-Forwarding Service's WAR file from here: <a class="ulink" href="http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/call-forwarding/1.4/call-forwarding-1.4.war">http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/call-forwarding/1.4/call-forwarding-1.4.war</a>.</p><p>Download the Call-Forwarding Service's DAR file from here: <a class="ulink" href="http://www.mobicents.org/call-forwarding-servlet-dar.properties">http://www.mobicents.org/call-forwarding-servlet-dar.properties</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Forwarding_Service-Installing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Installing</h5><p class="formalpara">Both the <code class="filename">call-forwarding-1.4.war</code> WAR file
        and the <code class="filename">call-forwarding-servlet-dar.properties</code>
        DAR file that you downloaded should be placed into different
        directories in your SIP Servlet Server installation hierarchy. Which
        directory depends on whether you are using the Call-Forwarding Service
        with MSS for JBoss or with MSS for Tomcat:</p><div class="variablelist"><dl><dt><span class="term">MSS for JBoss</span></dt><dd><p>Place <code class="filename">call-forwarding-1.4.war</code> into the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/deploy/</code>
            directory, and
            <code class="filename">call-forwarding-servlet-dar.properties</code> into
            the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/conf/dars/</code>
            directory.</p></dd><dt><span class="term">MSS for Tomcat</span></dt><dd><p>Place <code class="filename">call-forwarding-1.4.war</code> into the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/webapps/</code>
            directory, and
            <code class="filename">call-forwarding-servlet-dar.properties</code> into
            the <code class="filename"><code class="envar">CATALINA_HOME</code>/conf/dars/</code>
            directory.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Forwarding_Service-Configuring"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Configuring</h5><p class="formalpara">The <code class="literal">darConfigurationFileLocation</code> attribute of
        the <code class="literal">Service</code> element must be set to the value
        <strong class="userinput"><code>conf/dars/call-forwarding-b2bua-servlet-dar.properties</code></strong>.
        The instructions for doing so are given below by SIP Servlets Server
        type:</p><div class="variablelist"><dl><dt><span class="term">MSS for JBoss</span></dt><dd><p>Open the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/deploy/jboss-web.deployer/server.xml</code>
            configuration file and find the <code class="literal">Service</code>
            element. Add an attribute to it called
            <strong class="userinput"><code>darConfigurationFileLocation</code></strong>, and set it to
            <em class="replaceable"><code>conf/dars/call-forwarding-b2bua-servlet-dar.properties</code></em>:</p><div class="example"><a id="sfss-Editing_SS_for_JBoss_server.xml_for_the_Call-Forwarding_Service"/><p class="title"><b>Example 4.6. Editing MSS for JBoss's server.xml for the Call-Forwarding Service</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;jboss.web&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/call-forwarding-b2bua-servlet-dar.properties&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>Make sure that the configuration file only contains one
            <code class="literal">darConfigurationFileLocation</code> attribute: your
            new one.</p></dd><dt><span class="term">MSS for Tomcat</span></dt><dd><p>Open the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/conf/server.xml</code>
            configuration file and find the <code class="literal">Service</code>
            element. Add an attribute to it called
            <strong class="userinput"><code>darConfigurationFileLocation</code></strong>, and set it to
            <strong class="userinput"><code>conf/dars/call-forwarding-b2bua-servlet-dar.properties</code></strong>:</p><div class="example"><a id="sfss-Editing_MSS_for_Tomcats_server.xml_for_the_Call-Forwarding_Service"/><p class="title"><b>Example 4.7. Editing MSS for Tomcat's server.xml for the Call-Forwarding Service</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Sip-Servlets&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/call-forwarding-b2bua-servlet-dar.properties&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>Make sure that the configuration file only contains one
            <code class="literal">darConfigurationFileLocation</code> attribute: your
            new one.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Forwarding_Service-Running"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Running</h5><p class="formalpara">Once the WAR and DAR files have been placed in the right
        directories, and the JBoss Application Server or Tomcat Servlet
        Container knows where to find them (which you specified in a
        <code class="filename">server.xml</code> file), then you should go ahead and
        run SIP Servlets Server.</p><p>To learn how to run the SIP Servlets-enabled JBoss Application
      Server, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Running" title="2.1.7. Running">Section 2.1.7, “Running”</a>.</p><p>To learn how to run the SIP Servlets-enabled Tomcat Container,
      refer to <a class="ulink" href="bbssswticar-binary-SIP_Servlets_Server_with_Tomcat-Running">bbssswticar-binary-SIP_Servlets_Server_with_Tomcat-Running</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Forwarding_Service-Testing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Testing</h5><p class="formalpara">The following procedure shows how to test the Call-Forwarding
        Service.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="d0e5022"/><p class="title"><b>Procedure 4.6. </b></p><ol class="1"><li><p>Start two SIP soft-phones of your choice. Set the account
          settings of the first SIP softphone to:</p><div class="itemizedlist"><ul><li><p>Account name:
              <strong class="userinput"><code>forward-receiver</code></strong></p></li><li><p>IP address: <strong class="userinput"><code>127.0.0.1</code></strong></p></li><li><p>Port: <strong class="userinput"><code>5090</code></strong></p></li></ul></div><p>Neither of the SIP soft-phones needs to be registered.</p></li><li><p>From the second phone, make a call to
          <code class="literal">sip:receiver@sip-servlets.com</code>. The first phone,
          "forward-receiver", should now be ringing.</p></li></ol></div><p class="formalpara"><a id="sfss-binary-Call-Forwarding_Service-Stopping"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Stopping</h5><p class="formalpara">To learn how to stop the SIP Servlets-enabled JBoss Application
        Server, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Stopping" title="2.1.10. Stopping">Section 2.1.10, “Stopping”</a>.</p><p>To learn how to stop the SIP Servlets-enabled Tomcat Container,
      refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-binary-SIP_Servlets_Server_with_Tomcat-Stopping" title="2.2.8. Stopping">Section 2.2.8, “Stopping”</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Forwarding_Service-Uninstalling"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Uninstalling</h5><p class="formalpara">Unless disk space is at a premium, there is usually no need to
        uninstall the Call-Forwarding Service. However, if you will not be
        using it again, you may want to unset or reset the
        <code class="literal">darConfigurationFileLocation</code> attribute of the
        <code class="literal">Service</code> element, which you set in the
        <code class="filename">server.xml</code> configuration file in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-binary-Call-Forwarding_Service-Configuring" title="Configuring">Configuring</a>.</p><p>You may also wish to delete the WAR and DAR files for the
      Call-Forwarding Service, which you installed in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-binary-Call-Forwarding_Service-Installing" title="Installing">Installing</a>.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sfss-The_Call-Controller_Service"/>4.1.5. The Call-Controller Service</h3></div></div></div><p>The Call-Controller service is a composition of two other services:
    Call-Blocking and Call-Forwarding. Essentially, it performs the services
    of both call-forwarding and call-blocking.</p><div class="itemizedlist"><ul><li><p>To learn about how the Call-Blocking service works, refer to
        <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Call-Blocking_Service" title="4.1.3. The Call-Blocking Service">Section 4.1.3, “The Call-Blocking Service”</a>.</p></li><li><p>To learn about how the Call-Forwarding service works, refer to
        <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-The_Call-Forwarding_Service" title="4.1.4. The Call-Forwarding Service">Section 4.1.4, “The Call-Forwarding Service”</a>.</p></li></ul></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><a id="sfss-Blocked_Contacts_and_Contacts_to_Forward_Cannot_Currently_Be_Configured"/><h2>Blocked Contacts and Contacts to Forward Cannot Currently Be Configured</h2><p>Both the list of blocked contacts and the list of contacts to
      forward are currently both hard-coded. However, both of those models are
      evolving toward the eventual use of databases.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sfss-binary-Call-Controller_Service--Installing_Configuring_and_Running"/>4.1.5.1. The Call-Controller Service: Installing, Configuring and Running</h4></div></div></div><p>The Call-Controller service requires the two WAR files for the
      Call-Blocking and Call-Forwarding services to be placed in the correct
      directory inside your Mobicents SIP Servlets Server binary installation.
      However, the Call-Controller service does <span class="emphasis"><em>not</em></span>
      require their corresponding DAR files: you need only to download and
      install a DAR file customized for the Call-Controller service. The
      instructions below show you how to do precisely this; there is no need,
      therefore, to first install either the Call-Blocking or the
      Call-Forwarding services, though it is helpful to at least be familiar
      with them.</p><p class="formalpara"><a id="sfss-binary-Call-Controller_Service-Pre-Install_Requirements_and_Prerequisites"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Pre-Install Requirements and Prerequisites</h5><p class="formalpara">The following requirements must be met before installation can begin.</p><div class="variablelist"><a id="sfss-binary-Call-Controller_Service-Software_Prerequisites"/><p class="title"><b>Software Prerequisites</b></p><dl><dt><span class="term">Either an MSS for JBoss or an MSS for Tomcat Installation</span></dt><dd><p>The Call-Controller Service requires either an MSS for JBoss
            or an MSS for Tomcat binary installation.</p><p>You can find detailed instructions on installing MSS for
            JBoss here: <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Installing_Configuring_and_Running" title="2.1. SIP Servlet-Enabled JBoss Application Server: Installing, Configuring and Running">Section 2.1, “SIP Servlet-Enabled JBoss Application Server: Installing, Configuring and Running”</a>.</p><p>You can find detailed instructions on installing MSS for
            Tomcat here: <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-SIP_Servlets_Server_with_Tomcat-Installing_Configuring_and_Running" title="2.2. SIP Servlet-Enabled Tomcat Servlet Container: Installing, Configuring and Running">Section 2.2, “SIP Servlet-Enabled Tomcat Servlet Container: Installing, Configuring and Running”</a>.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Controller_Service-Downloading"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Downloading</h5><p class="formalpara">The Call-Controller Service is comprised of two WAR files, one
        for the Call-Forwarding service and one for Call-Blocking, and a
        customized Call-Controller DAR file. You do not need to install the
        DAR files for the Call-Forwarding or the Call-Blocking services. For
        more information about WAR files, refer to the <a class="ulink" href="http://www.jboss.org/file-access/default/members/jbossas/freezone/docs/Server_Configuration_Guide/beta422/html/index.html">JBoss Application Server Administration and Development Guide</a>. For
        more information about DAR files, refer to the <a class="ulink" href="http://jcp.org/en/jsr/detail?id=289">JSR 289 spec, Appendix C</a></p><p>Download the Call-Blocking Service's WAR file from here: <a class="ulink" href="http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/call-blocking/1.4/call-blocking-1.4.war">http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/call-blocking/1.4/call-blocking-1.4.war</a>.</p><p>Download the Call-Forwarding Service's WAR file from here: <a class="ulink" href="http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/call-forwarding/1.4/call-forwarding-1.4.war">http://repository.jboss.org/maven2/org/mobicents/servlet/sip/example/call-forwarding/1.4/call-forwarding-1.4.war</a>.</p><p>Download the Call-Controller Service's DAR file from here: <a class="ulink" href="http://www.mobicents.org/call-controller-servlet-dar.properties">http://www.mobicents.org/call-controller-servlet-dar.properties</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Controller_Service-Installing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Installing</h5><p class="formalpara">The <code class="filename">call-blocking-1.4.war</code>,
        <code class="filename">call-forwarding-1.4.war</code> and
        <code class="filename">call-controller-servlet-dar.properties</code> archive
        files that you downloaded should be placed into different directories
        in your SIP Servlet Server installation hierarchy. Which directory
        depends on whether you are using the Call-Controller Service with MSS
        for JBoss or with MSS for Tomcat:</p><div class="variablelist"><dl><dt><span class="term">MSS for JBoss</span></dt><dd><p>Place <code class="filename">call-blocking-1.4.war</code> and
            <code class="filename">call-forwarding-1.4.war</code> into the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/deploy/</code>
            directory, and
            <code class="filename">call-controller-servlet-dar.properties</code> into
            the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/conf/dars/</code>
            directory.</p></dd><dt><span class="term">MSS for Tomcat</span></dt><dd><p>Place <code class="filename">call-blocking-1.4.war</code> and
            <code class="filename">call-forwarding-1.4.war</code> into the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/webapps/</code>
            directory, and
            <code class="filename">call-controller-servlet-dar.properties</code> into
            the <code class="filename"><code class="envar">CATALINA_HOME</code>/conf/dars/</code>
            directory.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Controller_Service-Configuring"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Configuring</h5><p class="formalpara">The <code class="literal">darConfigurationFileLocation</code> attribute of
        the <code class="literal">Service</code> element must be set to the value
        <strong class="userinput"><code>conf/dars/call-controller-servlet-dar.properties</code></strong>.
        Instructions for doing so are given below by SIP Servlets Server
        type:</p><div class="variablelist"><dl><dt><span class="term">MSS for JBoss</span></dt><dd><p>Open the
            <code class="filename"><code class="envar">JBOSS_HOME</code>/server/default/deploy/jboss-web.deployer/server.xml</code>
            configuration file and find the <code class="literal">Service</code>
            element. Add an attribute to it called
            <strong class="userinput"><code>darConfigurationFileLocation</code></strong>, and set it to
            <em class="replaceable"><code>conf/dars/call-controller-servlet-dar.properties </code></em>:</p><div class="example"><a id="sfss-Editing_SS_for_JBoss_server.xml_for_the_Call-Controller_Service"/><p class="title"><b>Example 4.8. Editing MSS for JBoss's server.xml for the Call-Controller Service</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;jboss.web&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/call-controller-servlet-dar.properties&nbsp;&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>Make sure that the configuration file only contains one
            <code class="literal">darConfigurationFileLocation</code> attribute: your
            new one.</p></dd><dt><span class="term">MSS for Tomcat</span></dt><dd><p>Open the
            <code class="filename"><code class="envar">CATALINA_HOME</code>/conf/server.xml</code>
            configuration file and find the <code class="literal">Service</code>
            element. Add an attribute to it called
            <strong class="userinput"><code>darConfigurationFileLocation</code></strong>, and set it to
            <strong class="userinput"><code>conf/dars/call-controller-servlet-dar.properties </code></strong>:</p><div class="example"><a id="sfss-Editing_MSS_for_Tomcats_server.xml_for_the_Call-Controller_Service"/><p class="title"><b>Example 4.9. Editing MSS for Tomcat's server.xml for the Call-Controller Service</b></p><div class="example-contents"><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Service</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Sip-Servlets&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">className</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.startup.SipStandardService&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipApplicationDispatcherClassName</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.servlet.sip.core.SipApplicationDispatcherImpl&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">darConfigurationFileLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/dars/call-controller-servlet-dar.properties&nbsp;&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">sipStackPropertiesFile</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;conf/mss-sip-stack.properties&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><br class="example-break"/><p>Make sure that the configuration file only contains one
            <code class="literal">darConfigurationFileLocation</code> attribute: your
            new one.</p></dd></dl></div><p class="formalpara"><a id="sfss-binary-Call-Controller_Service-Running"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Running</h5><p class="formalpara">Once the WAR and DAR files have been placed in the right
        directories, and the JBoss Application Server or Tomcat Servlet
        Container knows where to find them (which you specified in a
        <code class="filename">server.xml</code> file), then you should go ahead and
        run SIP Servlets Server.</p><p>To learn how to run the SIP Servlets-enabled JBoss Application
      Server, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Running" title="2.1.7. Running">Section 2.1.7, “Running”</a>.</p><p>To learn how to run the SIP Servlets-enabled Tomcat Container,
      refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-binary-SIP_Servlets_Server_with_Tomcat-Running" title="2.2.7. Running">Section 2.2.7, “Running”</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Controller_Service-Testing"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Testing</h5><p class="formalpara">Two use-cases can be distinguished for the Call-Controller
        service: one in which a call is blocked, and another in which a call
        is forwarded. Therefore, we have two cases for which we can test the
        Call-Controller.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="sfss-Blocking_a_Call_with_the_Call-Controller"/><p class="title"><b>Procedure 4.7. Blocking a Call with Call-Controller</b></p><ol class="1"><li><p>Start two SIP soft-phones of your choice. Set the account
          settings of the SIP soft-phones to:</p><div class="itemizedlist"><p class="title"><b>Relevant First Softphone Settings</b></p><ul><li><p>Account name:
              <strong class="userinput"><code>forward-receiver</code></strong></p></li><li><p>IP address: <strong class="userinput"><code>127.0.0.1</code></strong></p></li><li><p>Port: <strong class="userinput"><code>5090</code></strong></p></li></ul></div><div class="itemizedlist"><p class="title"><b>Relevant Second Softphone Settings</b></p><ul><li><p>Account name: <strong class="userinput"><code>blocked-sender</code></strong></p></li></ul></div><p>Neither of the SIP soft-phones needs to be registered.</p></li><li><p>From the second phone, <code class="literal">blocked-sender</code>, make
          a call to <code class="literal">sip:receiver@sip-servlets.com</code>. You
          should receive a <code class="literal">FORBIDDEN</code> response.</p></li></ol></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="sfss-Forwarding_a_Call_with_the_Call-Controller"/><p class="title"><b>Procedure 4.8. Forwarding a Call with Call-Controller</b></p><ol class="1"><li><p>Start two SIP soft-phones of your choice. Set the account
          settings of the SIP soft-phones to:</p><div class="itemizedlist"><p class="title"><b>Relevant First Softphone Settings</b></p><ul><li><p>Account name:
              <strong class="userinput"><code>forward-receiver</code></strong></p></li><li><p>IP address: <strong class="userinput"><code>127.0.0.1</code></strong></p></li><li><p>Port: <strong class="userinput"><code>5090</code></strong></p></li></ul></div><div class="itemizedlist"><p class="title"><b>Relevant Second Softphone Settings</b></p><ul><li><p>Account name: <strong class="userinput"><code>forward-sender</code></strong></p></li></ul></div><p>Neither of the SIP soft-phones needs to be registered.</p></li><li><p>From the second softphone, <code class="literal">forward-sender</code>,
          make a call to <code class="literal">sip:receiver@sip-servlets.com</code>. The
          first phone, <code class="literal">forward-receiver</code>, should now be
          ringing.</p></li></ol></div><p class="formalpara"><a id="sfss-binary-Call-Controller_Service-Stopping"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Stopping</h5><p class="formalpara">To learn how to stop the SIP Servlets-enabled JBoss Application
        Server, refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswjicar-binary-SIP_Servlets_Server_with_JBoss-Stopping" title="2.1.10. Stopping">Section 2.1.10, “Stopping”</a>.</p><p>To learn how to stop the SIP Servlets-enabled Tomcat Container,
      refer to <a class="xref" href="sssicar-SIP_Servlets_Server-Installing_Configuring_and_Running.html#bssswticar-binary-SIP_Servlets_Server_with_Tomcat-Stopping" title="2.2.8. Stopping">Section 2.2.8, “Stopping”</a>.</p><p class="formalpara"><a id="sfss-binary-Call-Controller_Service-Uninstalling"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Uninstalling</h5><p class="formalpara">Unless disk space is at a premium, there is usually no need to
        uninstall the Call-Controller Service. However, if you will not be
        using it again, you may want to unset or reset the
        <code class="literal">darConfigurationFileLocation</code> attribute of the
        <code class="literal">Service</code> element, which you set in the
        <code class="filename">server.xml</code> configuration file in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-binary-Call-Controller_Service-Configuring" title="Configuring">Configuring</a>.</p><p>You may also wish to delete the WAR and DAR files for the
      Call-Controller Service, which you installed in <a class="xref" href="ssea-SIP_Servlet_Example_Applications.html#sfss-binary-Call-Controller_Service-Installing" title="Installing">Installing</a>.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p><a class="xref" href="ssea-SIP_Servlet_Example_Applications.html" title="Chapter 4. SIP Servlet Example Applications">Chapter 4, <i>SIP Servlet Example Applications</i></a>
        provides more information about other service examples
        available.</p></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="mipbx-Media_IPBX"/>4.1.6. Media IPBX</h3></div></div></div><p>The Media IPBX provides an extensible and customizable SIP PBX solution, based on the Seam Telco Framework (STF).  While the PBX is currently provided as a capability demonstration, the ultimate goal is to transition Media IPBX into a fully-fledged SIP PBX solution.</p><p>Media IPBX terminates all calls to Mobicents Media Server conference endpoints, which provides flexibility in manipulating established calls including server-side conferencing and ring-back tones.  The PBX can also be implemented as a Session Border Controller.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>Media IPBX is compatible with Mobicents SIP Servlets with JBoss AS 4.2.3; versions prior to this release do not support Media IPBX.</p></div><p>Media IPBX provides the following major features:
      </p><div class="itemizedlist"><ul><li><p>User authentication.</p></li><li><p>SIP phone registration.</p></li><li><p>System configuration.</p></li><li><p>Individual user views.</p></li><li><p>Call monitoring and management.</p></li><li><p>Multiple SIP phone instances per user.</p></li><li><p>Status-based SIP phone assignment for incoming calls.</p></li><li><p>Public Switched Telephone Network (PSTN) support including administrative functions.</p></li><li><p>Support for SIP REGISTER requests to automatically add phones by matching the username, or username and hostname (in 'strict mode' only).</p></li><li><p>Optionally specify local or online sources for announcements and ringback tones.</p></li><li><p>Session Border Controller capability.</p></li><li><p>Full conferencing support, including:
          </p><div class="itemizedlist"><ul><li><p>Privacy functions, such as mute and closed-calls.</p></li><li><p>Call status announcement.</p></li><li><p>Ringback tones when waiting for other participants to join the conference.</p></li><li><p>Joining incoming calls to a conference.</p></li><li><p>Parking calls and isolating a single speaker using dual-tone multi-frequency (DTMF) tones.  This feature is currently experimental.</p></li></ul></div><p>
          </p></li></ul></div><p>
    </p><p>Many of the features in Media IPBX are presented to the user as hints on the GUI portal pages.  It is recommended to install Media IPBX and experiment with the demonstration to gain an understanding of how the solution works.</p><p>For information about installing and running Media IPBX, including binary and source code locations, visit the <a class="ulink" href="http://www.mobicents.org/mss-ipbx.html">Media IPBX homepage</a>.</p></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="sssicar-SIP_Servlets_Server-Application-Router.html"><strong>Prev</strong>Chapter 3. Application Router</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="ch05.html"><strong>Next</strong>Chapter 5. Clustering and High Availability</a></li></ul></body></html>